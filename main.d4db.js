(globalThis.webpackChunknest_react=globalThis.webpackChunknest_react||[]).push([["main"],{"./src/client/index.tsx":(e,t,a)=>{"use strict";var n=a("./node_modules/preact/compat/dist/compat.module.js");const s={ms:300,onStart:!1,withCancel:!1},r=(e,t,a)=>(clearTimeout(e),window.setTimeout(a,t));const c=(e,t)=>t>=e?t%e:t<0?e+(t%e||-e):t;const l=(e=>{const t=document.cookie,a=t.indexOf(e)+e.length+1;if(a===e.length)return"";let n=t.indexOf(";",a);-1===n&&(n=t.length);return t.slice(a,n)})("theme")||"dark",o=(0,n.kr)({theme:l,switchTheme:()=>{}}),m=(0,n.X$)((({children:e})=>{const[t,a]=(0,n.eJ)(l),s=(0,n.I4)((()=>{const e="light"===t?"dark":"light";a(e),setTimeout((()=>{return t="theme",a=e,void(document.cookie=`${t}=${a}`);var t,a}))}),[t]),r=(0,n.Ye)((()=>({theme:t,switchTheme:s})),[t,s]);return n.ZP.createElement(o.Provider,{value:r},e)})),i=()=>(0,n.qp)(o),d=e=>()=>console.error(e+" was invoked out of provider scope"),u=(0,n.kr)({query:"",setQuery:d("SearchQueryContext")}),v=(0,n.kr)({searchTags:[],addSearchTag:d("SearchTagsContext"),removeSearchTag:d("SearchTagsContext")}),h=(0,n.X$)((({children:e})=>{const[t,a]=(0,n.eJ)(""),[s,r]=(0,n.eJ)([]),c=(0,n.sO)(s);c.current=s;const l=(0,n.Ye)((()=>({addSearchTag:e=>r([...c.current,e]),removeSearchTag:e=>r(c.current.filter((t=>t!==e)))})),[]),o=(0,n.Ye)((()=>({query:t,setQuery:a})),[t,a]),m=(0,n.Ye)((()=>({searchTags:s,...l})),[s,l]);return n.ZP.createElement(v.Provider,{value:m},n.ZP.createElement(u.Provider,{value:o},e))})),g=()=>(0,n.qp)(v),E=()=>(0,n.qp)(u);var _;const Z={cards:(_=15,Object.keys([...Array(_)])).map(((e,t)=>{const a=c(4,t);return{id:"card-"+t,title:"Card "+t,text:"Click on one of tags above to filter cards with this tag.",tags:["tag "+a,"tag "+(a+1)]}}))};var p=a("./node_modules/@babel/runtime/helpers/extends.js"),P=a.n(p),N=a("./node_modules/@react-spring/web/index.js"),f=a("./node_modules/@react-spring/core/index.js"),y=a("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),w=a("./node_modules/@fortawesome/react-fontawesome/index.es.js");const k=(e,t=100)=>e.current?e.current.offsetHeight:t,x="_QUU-",T="_3ZuE _1-eg",b="_3d7I",C="_11j1",X="_2YI1",$="_3iF8";var j=a("./node_modules/clsx/dist/clsx.m.js");const O={iconTransform:"rotate(0deg)",transform:"translateX(0px)",opacity:1},S={iconTransform:"rotate(-90deg)",transform:"translateX(40px)",opacity:0},q=(0,n.X$)((({label:e,initOpened:t,opened:a,toggleOnRight:s,toggleClassName:r,toggleIconClassName:c,children:l,className:o,...m})=>{const[i,d]=(0,n.eJ)((()=>void 0!==t?t:void 0!==a&&a));(0,n.bt)((()=>{a&&d(!0)}),[a]);const[u,v]=(0,n.eJ)(i);(0,n.bt)((()=>{i&&v(!0)}),[i]);const h=(0,n.sO)(null),[{iconTransform:g,height:E,..._},Z]=(0,f.q_)((e=>()=>({...e?O:S,height:e?"auto":0,config:{tension:250,friction:17,clamp:!0}}))(i));(0,n.d4)((()=>{if(u){const e=i?{...O,height:k(h),onRest:()=>{}}:{...S,height:0,onRest:()=>v(!1)};Z(e)}}),[i,u,Z]);const p=i&&u;return(0,n.d4)((()=>{const e=h.current;if(p&&e){const t=new ResizeObserver((()=>Z({height:e.offsetHeight})));return t.observe(e),()=>t.unobserve(e)}}),[p,Z]),n.ZP.createElement("div",P()({className:(0,j.Z)(x,o)},m),n.ZP.createElement("button",{className:T+(r?" "+r:""),onClick:()=>d(!i)},s&&e,n.ZP.createElement(N.a.div,{className:b+(c?" "+c:"")+(s?" "+C:""),style:{transform:g}},n.ZP.createElement(w.G,{icon:y.ptq})),!s&&e),n.ZP.createElement(N.a.div,{className:X,style:{height:E}},n.ZP.createElement(N.a.div,{className:$,ref:h,style:_},u&&l)))})),I="_2yME",K=(0,n.X$)((({className:e})=>n.ZP.createElement("svg",{className:(0,j.Z)(I,e),viewBox:"0 0 1 1"},n.ZP.createElement("rect",{width:"100%",height:"100%",fill:"currentColor"})))),J="_3Nej",L="_32Fx",R="_1XB0",Y="_27hl",Q="_3z_3",B="_1Bf_",D="_E3LF",z=B+" "+"_240T",M=B+" "+"_29rB",F=({text:e,onClick:t,disabled:a,className:s,...r})=>n.ZP.createElement("button",P()({className:(0,j.Z)(s,J,{[D]:a}),onClick:a?void 0:t,tabIndex:a?-1:void 0},r),n.ZP.createElement("div",{className:z}),n.ZP.createElement("div",{className:M}),n.ZP.createElement("div",{className:Q}),n.ZP.createElement("div",{className:L},n.ZP.createElement(K,{className:R}),n.ZP.createElement("p",{className:Y},e))),G=(0,n.X$)(F),H="_2Opq",U="_fBWd",V="_2vME",W="_1RNy",A="_ykWm",ee="_2z8z",te="_344d",ae="_3153",ne="_2Qwy",se="_1heh",re=(ce=({card:e,showTranslation:t})=>{const{searchTags:a,addSearchTag:s}=g();return n.ZP.createElement(q,{className:H,toggleClassName:U,toggleOnRight:!0,toggleIconClassName:V,label:n.ZP.createElement("div",{className:te},n.ZP.createElement("p",{className:W},e.title))},n.ZP.createElement("div",{className:A},e.tags.map((e=>n.ZP.createElement(G,{key:e,className:ee,text:e,onClick:()=>s(e),disabled:a.includes(e)})))),e.text&&n.ZP.createElement("p",{className:ae},e.text),e.examples&&n.ZP.createElement("div",{className:ne},e.examples.map(((e,a)=>n.ZP.createElement("div",{className:se,key:a},n.ZP.createElement("p",null,e.jp),t&&n.ZP.createElement("p",null,e.en))))))},(0,n.X$)(ce));var ce;const le="_mRkR",oe="_1Cwl",me="_1hCR",ie="_1ami",de="_1KNX",ue=(0,n.X$)((({value:e,onToggle:t,disabled:a,className:s,...r})=>n.ZP.createElement("button",P()({className:(0,j.Z)(le,s,{[ie]:e,[oe]:a}),onClick:a?void 0:()=>t(!e),tabIndex:a?-1:void 0},r),n.ZP.createElement("div",{className:me},n.ZP.createElement("div",{className:de}))))),ve=({value:e,setValue:t,onChange:a,debounceOptions:c})=>{const[l,o]=(0,n.eJ)(e);(0,n.bt)((()=>{o(e)}),[e]);return{value:l,onChange:(0,n.Ye)((()=>{const e=function(e,t){const{ms:a,onStart:n,withCancel:c}={...s,...t};let l,o=!1;const m=n?(...t)=>{o?(o=!0,e(...t)):l=r(l,a,(()=>{l=void 0,o=!1,e(...t)}))}:(...t)=>{l=r(l,a,(()=>e(...t)))};return c?[m,()=>clearTimeout(l)]:m}(t,c);return t=>{void 0!==a&&a(t);const n=t.target.value;o(n),e(n)}}),[t,a,c])}},he="_2tLt",ge="_Ev5J",Ee="_2ixG",_e="_3m-7 _1-eg",Ze="_24p1",pe=(e=>(0,n.X$)(e))((()=>{const{query:e,setQuery:t}=E(),{searchTags:a,removeSearchTag:s}=g(),r=(0,n.sO)(null),c=(0,n.I4)((e=>{e&&e.target===e.currentTarget&&e.preventDefault(),r.current?.focus()}),[]),l=(0,n.I4)((e=>{e.ctrlKey&&"f"===e.key&&(e.preventDefault(),c())}),[c]);(({eventName:e,handler:t,element:a,ref:s,attach:r=!0})=>{(0,n.d4)((()=>{const n=s&&s.current||a;if(r&&n)return n.addEventListener(e,t),()=>n.removeEventListener(e,t)}),[a,s,e,t,r])})({element:window,eventName:"keydown",handler:l});const o=((e,t)=>(0,n.I4)((a=>{t&&t(a);const n=e.find((e=>!(e.key!==a.key||void 0!==e.altKey&&e.altKey!==a.altKey||void 0!==e.ctrlKey&&e.ctrlKey!==a.ctrlKey)));n&&n.handler(a)}),[e,t]))((0,n.Ye)((()=>[{key:"Escape",handler:()=>t("")}]),[t])),m=ve({value:e,setValue:t});return n.ZP.createElement("div",{className:he,onMouseDown:c},n.ZP.createElement(w.G,{className:Ze,icon:y.wn1,onMouseDown:c}),n.ZP.createElement("div",{className:Ee},a.map((e=>n.ZP.createElement(F,{key:e,className:ge,text:e,onClick:()=>s(e)}))),n.ZP.createElement("input",P()({ref:r,className:_e,type:"search",autoComplete:"off",onKeyDown:o},m))))})),Pe="_3J2v",Ne=(e=>(0,n.X$)(e))((()=>{const{theme:e,switchTheme:t}=i();return n.ZP.createElement("div",{className:Pe},n.ZP.createElement(pe,null),n.ZP.createElement(ue,{value:"dark"===e,onToggle:t}))})),fe="_39Tc",ye="_3mgX",we=(e=>(0,n.X$)(e))((()=>{const{theme:e}=i(),[t,a]=(0,n.eJ)(!0);(0,n.d4)((()=>{if(t){const e=()=>a(!1);return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}{const e=e=>{"Tab"===e.key&&a(!0)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}}),[t]);const{query:s}=E(),{searchTags:r}=g(),c=(0,n.Ye)((()=>{let e=Z.cards;return 0!==r.length&&(e=e.filter((e=>r.every((t=>e.tags.includes(t)))))),0!==s.length&&(e=e.filter((e=>e.title.includes(s)||e.text?.includes(s)||e.examples?.some((e=>e.jp.includes(s)))))),e}),[s,r]);return n.ZP.createElement("div",{className:`${fe} ${e} ${t?"outline":""}`},n.ZP.createElement("div",{className:ye},n.ZP.createElement(Ne,null),c.map((e=>n.ZP.createElement(re,{key:e.id,card:e})))))})),ke=(a.p,document.createElement("div"));ke.className="_KC3L",document.body.append(ke);const xe=we;(0,n.sY)(n.ZP.createElement(m,null,n.ZP.createElement(h,null,n.ZP.createElement(xe,null))),ke)}},0,[["./src/client/index.tsx","runtime","vendor"]]]);
//# sourceMappingURL=main.d4db.js.map